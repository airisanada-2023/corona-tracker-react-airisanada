{"ast":null,"code":"import _slicedToArray from\"/Users/user/Documents/study2023/react-corona-tracker-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{Route,Routes,BrowserRouter}from\"react-router-dom\";import countriesJson from\"./countries.json\";import TopPage from'./pages/TopPage';import WorldPage from\"./pages/WorldPage\";import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),country=_useState2[0],setCountry=_useState2[1];var _useState3=useState({date:\"\",newConfirmed:\"\",totalConfirmed:\"\",newRecovered:\"\",totalRecovered:\"\"}),_useState4=_slicedToArray(_useState3,2),countryData=_useState4[0],setCountryData=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),allCountriesData=_useState6[0],setAllCountriesData=_useState6[1];var getCountryData=function getCountryData(){fetch(\"https://monotein-books.vercel.app/api/corona-tracker/country/\".concat(country)).then(function(res){return res.json();}).then(function(data){setCountryData({date:data[data.length-1].Date,newConfirmed:data[data.length-1].Confirmed-data[data.length-2].Confirmed,totalConfirmed:data[data.length-1].Confirmed,newRecovered:data[data.length-1].Recovered-data[data.length-2].Recovered,totalRecovered:data[data.length-1].Recovered});});};useEffect(function(){fetch(\"https://monotein-books.vercel.app/api/corona-tracker/summary\").then(function(res){return res.json();}).then(function(data){return setAllCountriesData(data.Countries);});},[]);return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(TopPage,{countriesJson:countriesJson,setCountry:setCountry,getCountryData:getCountryData,countryData:countryData})}),/*#__PURE__*/_jsx(Route,{path:\"/world\",element:/*#__PURE__*/_jsx(WorldPage,{allCountriesData:allCountriesData})})]})});}export default App;","map":{"version":3,"names":["useState","useEffect","Route","Routes","BrowserRouter","countriesJson","TopPage","WorldPage","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","country","setCountry","_useState3","date","newConfirmed","totalConfirmed","newRecovered","totalRecovered","_useState4","countryData","setCountryData","_useState5","_useState6","allCountriesData","setAllCountriesData","getCountryData","fetch","concat","then","res","json","data","length","Date","Confirmed","Recovered","Countries","children","path","element"],"sources":["/Users/user/Documents/study2023/react-corona-tracker-app/src/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Route, Routes, BrowserRouter } from \"react-router-dom\";\nimport countriesJson from \"./countries.json\";\nimport TopPage from './pages/TopPage';\nimport WorldPage from \"./pages/WorldPage\";\nimport './App.css';\n\nfunction App() {\n\n  const [country, setCountry] = useState(\"\");\n\n  const [countryData, setCountryData] = useState({\n    date: \"\",\n    newConfirmed: \"\",\n    totalConfirmed: \"\",\n    newRecovered: \"\",\n    totalRecovered: \"\",\n  });\n\n  const [allCountriesData, setAllCountriesData] = useState([]);\n\n  const getCountryData = () => {\n      fetch(`https://monotein-books.vercel.app/api/corona-tracker/country/${country}`)\n      .then(res => res.json())\n      .then(data => {\n        setCountryData({\n          date: data[data.length -1].Date,\n          newConfirmed: data[data.length -1].Confirmed - data[data.length -2].Confirmed,\n          totalConfirmed: data[data.length -1].Confirmed,\n          newRecovered: data[data.length -1].Recovered - data[data.length -2].Recovered,\n          totalRecovered: data[data.length -1].Recovered\n        });\n      })\n  }\n\n  useEffect(() => {\n      fetch(\"https://monotein-books.vercel.app/api/corona-tracker/summary\")\n      .then(res => res.json())\n      .then(data => setAllCountriesData(data.Countries));\n  }, []);\n\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={<TopPage countriesJson={countriesJson} setCountry={setCountry} getCountryData={getCountryData} countryData={countryData} />} />\n        <Route path=\"/world\" element={<WorldPage allCountriesData={allCountriesData} />} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n"],"mappings":"8IAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,KAAK,CAAEC,MAAM,CAAEC,aAAa,KAAQ,kBAAkB,CAC/D,MAAO,CAAAC,aAAa,KAAM,kBAAkB,CAC5C,MAAO,CAAAC,OAAO,KAAM,iBAAiB,CACrC,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnB,QAAS,CAAAC,GAAGA,CAAA,CAAG,CAEb,IAAAC,SAAA,CAA8Bb,QAAQ,CAAC,EAAE,CAAC,CAAAc,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAE1B,IAAAI,UAAA,CAAsClB,QAAQ,CAAC,CAC7CmB,IAAI,CAAE,EAAE,CACRC,YAAY,CAAE,EAAE,CAChBC,cAAc,CAAE,EAAE,CAClBC,YAAY,CAAE,EAAE,CAChBC,cAAc,CAAE,EAClB,CAAC,CAAC,CAAAC,UAAA,CAAAT,cAAA,CAAAG,UAAA,IANKO,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAQlC,IAAAG,UAAA,CAAgD3B,QAAQ,CAAC,EAAE,CAAC,CAAA4B,UAAA,CAAAb,cAAA,CAAAY,UAAA,IAArDE,gBAAgB,CAAAD,UAAA,IAAEE,mBAAmB,CAAAF,UAAA,IAE5C,GAAM,CAAAG,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CACzBC,KAAK,iEAAAC,MAAA,CAAiEjB,OAAO,EAAG,CAC/EkB,IAAI,CAAC,SAAAC,GAAG,QAAI,CAAAA,GAAG,CAACC,IAAI,EAAE,GAAC,CACvBF,IAAI,CAAC,SAAAG,IAAI,CAAI,CACZX,cAAc,CAAC,CACbP,IAAI,CAAEkB,IAAI,CAACA,IAAI,CAACC,MAAM,CAAE,CAAC,CAAC,CAACC,IAAI,CAC/BnB,YAAY,CAAEiB,IAAI,CAACA,IAAI,CAACC,MAAM,CAAE,CAAC,CAAC,CAACE,SAAS,CAAGH,IAAI,CAACA,IAAI,CAACC,MAAM,CAAE,CAAC,CAAC,CAACE,SAAS,CAC7EnB,cAAc,CAAEgB,IAAI,CAACA,IAAI,CAACC,MAAM,CAAE,CAAC,CAAC,CAACE,SAAS,CAC9ClB,YAAY,CAAEe,IAAI,CAACA,IAAI,CAACC,MAAM,CAAE,CAAC,CAAC,CAACG,SAAS,CAAGJ,IAAI,CAACA,IAAI,CAACC,MAAM,CAAE,CAAC,CAAC,CAACG,SAAS,CAC7ElB,cAAc,CAAEc,IAAI,CAACA,IAAI,CAACC,MAAM,CAAE,CAAC,CAAC,CAACG,SACvC,CAAC,CAAC,CACJ,CAAC,CAAC,CACN,CAAC,CAEDxC,SAAS,CAAC,UAAM,CACZ+B,KAAK,CAAC,8DAA8D,CAAC,CACpEE,IAAI,CAAC,SAAAC,GAAG,QAAI,CAAAA,GAAG,CAACC,IAAI,EAAE,GAAC,CACvBF,IAAI,CAAC,SAAAG,IAAI,QAAI,CAAAP,mBAAmB,CAACO,IAAI,CAACK,SAAS,CAAC,GAAC,CACtD,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEjC,IAAA,CAACL,aAAa,EAAAuC,QAAA,cACZhC,KAAA,CAACR,MAAM,EAAAwC,QAAA,eACLlC,IAAA,CAACP,KAAK,EAAC0C,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEpC,IAAA,CAACH,OAAO,EAACD,aAAa,CAAEA,aAAc,CAACY,UAAU,CAAEA,UAAW,CAACc,cAAc,CAAEA,cAAe,CAACN,WAAW,CAAEA,WAAY,EAAI,EAAG,cACxJhB,IAAA,CAACP,KAAK,EAAC0C,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAEpC,IAAA,CAACF,SAAS,EAACsB,gBAAgB,CAAEA,gBAAiB,EAAI,EAAG,GAC5E,EACK,CAEpB,CAEA,cAAe,CAAAjB,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}