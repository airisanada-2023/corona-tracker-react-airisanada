{"ast":null,"code":"import _slicedToArray from\"/Users/user/Documents/study2023/react-corona-tracker-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{Route,Routes,BrowserRouter}from\"react-router-dom\";import countriesJson from\"./countries.json\";import TopPage from'./pages/TopPage';import WorldPage from\"./pages/WorldPage\";import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(\"japan\"),_useState4=_slicedToArray(_useState3,2),country=_useState4[0],setCountry=_useState4[1];var _useState5=useState({date:\"\",newConfirmed:\"\",totalConfirmed:\"\",newRecovered:\"\",totalRecovered:\"\"}),_useState6=_slicedToArray(_useState5,2),countryData=_useState6[0],setCountryData=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),allCountriesData=_useState8[0],setAllCountriesData=_useState8[1];useEffect(function(){var getCountryData=function getCountryData(){setLoading(true);fetch(\"https://monotein-books.vercel.app/api/corona-tracker/country/\".concat(country)).then(function(res){return res.json();}).then(function(data){setCountryData({date:data[data.length-1].Date,newConfirmed:data[data.length-1].Confirmed-data[data.length-2].Confirmed,totalConfirmed:data[data.length-1].Confirmed,newRecovered:data[data.length-1].Recovered-data[data.length-2].Recovered,totalRecovered:data[data.length-1].Recovered});setLoading(false);}).catch(function(err){return alert(\"エラーが発生しました。ページをリロードして、もう一度トライしてください。\");});};getCountryData();},[country]);useEffect(function(){fetch(\"https://monotein-books.vercel.app/api/corona-tracker/summary\").then(function(res){return res.json();}).then(function(data){return setAllCountriesData(data.Countries);});},[]);return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(TopPage,{countriesJson:countriesJson,setCountry:setCountry,countryData:countryData,loading:loading})}),/*#__PURE__*/_jsx(Route,{path:\"/world\",element:/*#__PURE__*/_jsx(WorldPage,{allCountriesData:allCountriesData})})]})});}export default App;","map":{"version":3,"names":["useState","useEffect","Route","Routes","BrowserRouter","countriesJson","TopPage","WorldPage","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","country","setCountry","_useState5","date","newConfirmed","totalConfirmed","newRecovered","totalRecovered","_useState6","countryData","setCountryData","_useState7","_useState8","allCountriesData","setAllCountriesData","getCountryData","fetch","concat","then","res","json","data","length","Date","Confirmed","Recovered","catch","err","alert","Countries","children","path","element"],"sources":["/Users/user/Documents/study2023/react-corona-tracker-app/src/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Route, Routes, BrowserRouter } from \"react-router-dom\";\nimport countriesJson from \"./countries.json\";\nimport TopPage from './pages/TopPage';\nimport WorldPage from \"./pages/WorldPage\";\nimport './App.css';\n\nfunction App() {\n\n  const [loading, setLoading] = useState(false);\n\n  const [country, setCountry] = useState(\"japan\");\n\n  const [countryData, setCountryData] = useState({\n    date: \"\",\n    newConfirmed: \"\",\n    totalConfirmed: \"\",\n    newRecovered: \"\",\n    totalRecovered: \"\",\n  });\n\n  const [allCountriesData, setAllCountriesData] = useState([]);\n\n  useEffect(() => {\n    const getCountryData = () => {\n      setLoading(true);\n      fetch(`https://monotein-books.vercel.app/api/corona-tracker/country/${country}`)\n      .then(res => res.json())\n      .then(data => {\n        setCountryData({\n          date: data[data.length -1].Date,\n          newConfirmed: data[data.length -1].Confirmed - data[data.length -2].Confirmed,\n          totalConfirmed: data[data.length -1].Confirmed,\n          newRecovered: data[data.length -1].Recovered - data[data.length -2].Recovered,\n          totalRecovered: data[data.length -1].Recovered\n        });\n        setLoading(false);\n      })\n        .catch(err => alert(\"エラーが発生しました。ページをリロードして、もう一度トライしてください。\"));\n    }\n    getCountryData();\n  }, [country]);\n\n\n  useEffect(() => {\n      fetch(\"https://monotein-books.vercel.app/api/corona-tracker/summary\")\n      .then(res => res.json())\n      .then(data => setAllCountriesData(data.Countries));\n  }, []);\n\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={<TopPage countriesJson={countriesJson} setCountry={setCountry} countryData={countryData} loading={loading} />} />\n        <Route path=\"/world\" element={<WorldPage allCountriesData={allCountriesData} />} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}